{
  "$schema":"https://json-schema.org/draft/2020-12/schema",
  "title":"CodexLayout",
  "type":"object",
  "required":["metadata","components"],
  "properties":{
    "metadata":{
      "type":"object",
      "required":["project","base_resolution","unit"],
      "properties":{
        "project":{"type":"string"},
        "base_resolution":{"type":"object","required":["width","height"],"properties":{
          "width":{"type":"integer","minimum":1},
          "height":{"type":"integer","minimum":1}
        }},
        "unit":{"const":"px"}
      }
    },
    "components":{
      "type":"array",
      "items":{
        "type":"object",
        "required":["id","type","position","size"],
        "properties":{
          "id":{"type":"string","minLength":1},
          "type":{"enum":["text","image","shape","group","button","frame"]},
          "label":{"type":"string"},
          "position":{"type":"object","required":["x","y"],"properties":{
            "x":{"type":"integer"}, "y":{"type":"integer"}
          }},
          "size":{"type":"object","required":["width","height"],"properties":{
            "width":{"type":"integer","minimum":1},
            "height":{"type":"integer","minimum":1}
          }},
          "anchors":{"type":"object"},
          "a11y":{"type":"object","properties":{
            "role":{"type":"string"},
            "ariaLabel":{"type":"string"},
            "alt":{"type":"string"},
            "tabIndex":{"type":["integer","null"]}
          }},
          "text_key":{"type":["string","null"]},
          "state":{"type":"string"},
          "src":{"type":"string"},
          "src_webp":{"type":"string"},
          "src_avif":{"type":"string"}
        }
      }
    }
  }
}
